##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

# If the tool is built out of the kit, PIN_ROOT must be specified in the make invocation and point to the kit root.
PIN_ROOT ?= /opt/pin/pin-3.24-98612-g6bd5931f2-gcc-linux
# ifdef PIN_ROOT
# CONFIG_ROOT := $(PIN_ROOT)/source/tools/Config
# else
CONFIG_ROOT := ./Config
# endif
include $(CONFIG_ROOT)/makefile.config
include makefile.rules
include $(TOOLS_ROOT)/Config/makefile.default.rules

##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

COMMAND ?= ls
MY_PIN_TOOL ?= insDependDist
PIN_RUN := $(PIN_ROOT)/pin -t obj-intel64/$(MY_PIN_TOOL).so -- 
PY_FILE := paintInsDependDist.py
.PHONY: pin-run
pin-run:
	$(PIN_RUN) $(COMMAND)
	mkdir -p imgs
	python $(PY_FILE) 45 $(MY_PIN_TOOL).csv "imgs/$(MY_PIN_TOOL)-$(COMMAND).png"

.PHONY: pin-run-commands
pin-run-commands:
	rm -rf *.csv
	$(PIN_RUN) clear
	mv $(MY_PIN_TOOL).csv $(MY_PIN_TOOL)-clear.csv
	$(PIN_RUN) ls
	mv $(MY_PIN_TOOL).csv $(MY_PIN_TOOL)-ls.csv
	$(PIN_RUN) cat Makefile
	mv $(MY_PIN_TOOL).csv "$(MY_PIN_TOOL)-cat Makefile.csv"
	$(PIN_RUN) pwd
	mv $(MY_PIN_TOOL).csv $(MY_PIN_TOOL)-pwd.csv
	mkdir -p imgs
	python paint$(MY_PIN_TOOL).py 45 auto