##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

# If the tool is built out of the kit, PIN_ROOT must be specified in the make invocation and point to the kit root.
PIN_ROOT ?= ../
ifdef PIN_ROOT
CONFIG_ROOT := $(PIN_ROOT)/source/tools/Config
else
CONFIG_ROOT := ./Config
endif
include $(CONFIG_ROOT)/makefile.config
include makefile.rules
include $(TOOLS_ROOT)/Config/makefile.default.rules

##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

COMMAND ?= ls
MY_PIN_TOOL ?= insDependDist
PIN_RUN := $(PIN_ROOT)/pin -t obj-intel64/$(MY_PIN_TOOL).so -- 
.PHONY: pin-run
pin-run:
	$(PIN_RUN) $(COMMAND)
	mkdir -p imgs
	python paintInsDependDist.py 45 insDependDist.csv "imgs/insDependDist-$(COMMAND).png"

.PHONY: pin-run-commands
pin-run-commands:
	rm -rf *.csv
	$(PIN_RUN) clear
	mv insDependDist.csv insDependDist-clear.csv
	$(PIN_RUN) ls
	mv insDependDist.csv insDependDist-ls.csv
	$(PIN_RUN) cat Makefile
	mv insDependDist.csv "insDependDist-cat Makefile.csv"
	$(PIN_RUN) pwd
	mv insDependDist.csv insDependDist-pwd.csv
	mkdir -p imgs
	python paintInsDependDist.py 45 auto